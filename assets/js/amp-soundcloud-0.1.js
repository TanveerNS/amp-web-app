(self.AMP=self.AMP||[]).push({n:"amp-soundcloud",v:"2002251816300",f:(function(AMP,_){
var c="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},e;if("function"==typeof Object.setPrototypeOf)e=Object.setPrototypeOf;else{var g;a:{var k={a:!0},l={};try{l.__proto__=k;g=l.a;break a}catch(a){}g=!1}e=g?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var m=e;self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var n=self.__AMP_LOG;function p(a){return a||{}};p({c:!0,v:!0,a:!0,ad:!0,action:!0});/*
 https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
function q(a){a=AMP.BaseElement.call(this,a)||this;a.h=null;return a}var r=AMP.BaseElement;q.prototype=c(r.prototype);q.prototype.constructor=q;if(m)m(q,r);else for(var u in r)if("prototype"!=u)if(Object.defineProperties){var v=Object.getOwnPropertyDescriptor(r,u);v&&Object.defineProperty(q,u,v)}else q[u]=r[u];q.j=r.prototype;
q.prototype.preconnectCallback=function(a){var b=this.win;b=b.__AMP_TOP||(b.__AMP_TOP=b);var h=b.__AMP_SERVICES;h||(h=b.__AMP_SERVICES={});b=h.preconnect;b.obj||(b.obj=new b.ctor(b.context),b.ctor=null,b.context=null,b.resolve&&b.resolve(b.obj));b.obj.url(this.getAmpDoc(),"https://api.soundcloud.com/",a)};q.prototype.isLayoutSupported=function(a){return"fixed"==a||"fixed-height"==a||"responsive"==a||"fill"==a||"flex-item"==a||"fluid"==a||"intrinsic"==a};
q.prototype.layoutCallback=function(){var a=this.element.getAttribute("height"),b=this.element.getAttribute("data-color"),h=this.element.getAttribute("data-visual"),f="https://api.soundcloud.com/"+(this.element.hasAttribute("data-trackid")?"tracks":"playlists")+"/",w=this.element.getAttribute("data-trackid")||this.element.getAttribute("data-playlistid"),x=this.element;if(!n.user)throw Error("failed to call initLogConstructor");var y=n.user.assert(w,"data-trackid or data-playlistid is required for <amp-soundcloud> %s",
x,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0),t=this.element.getAttribute("data-secret-token"),d=this.element.ownerDocument.createElement("iframe");d.setAttribute("frameborder","no");d.setAttribute("scrolling","no");f="https://w.soundcloud.com/player/?url="+encodeURIComponent(f+y);t&&(f+=encodeURIComponent("?secret_token="+t));"true"===h?f+="&visual=true":b&&(f+="&color="+encodeURIComponent(b));d.src=f;this.applyFillContent(d);d.height=a;this.element.appendChild(d);this.h=d;return this.loadPromise(d)};
q.prototype.pauseCallback=function(){this.h&&this.h.contentWindow&&this.h.contentWindow.postMessage(JSON.stringify(p({method:"pause"})),"https://w.soundcloud.com")};(function(a){a.registerElement("amp-soundcloud",q)})(self.AMP);
})});

//# sourceMappingURL=amp-soundcloud-0.1.js.map
